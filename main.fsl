collection customer {
  history_days 0
}

collection store {
  history_days 0
}

collection product {
  history_days 0
}

collection order {
  history_days 0

  index byStatus {
    terms [.status]
  }
}

role customerRole {
  membership customer

  privileges order {
    read
  }

  privileges product {
    read
  }

  privileges customer {
    read {
      predicate (self => {
        self == Query.identity()
      })
    }
  }
}
